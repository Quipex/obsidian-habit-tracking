# План индикатора прогресса группы

## Цели
- [ ] Отобразить единую полосу прогресса внутри `habit-group`, где каждая секция соответствует отдельной привычке.
- [ ] Присвоить секциям цвета по состоянию привычки: изумрудный (emerald) при активном стрике в пределах grace, янтарный (amber) внутри warning window, серый при отсутствии активного стрика.
- [ ] Упорядочить секции в полосе по цвету: сначала изумрудные, затем янтарные, потом серые, сохранив непрерывность полосы.
- [ ] Изменять цвет агрегата `X/Y`: янтарный при неполном прогрессе, изумрудный при полном.

## Шаги реализации
- [ ] Расширить данные `HabitRegistry`, чтобы группа получала состояние стрика, факт нахождения в warning window и наличие grace для каждой привычки.
- [ ] Ввести хелпер, классифицирующий каждую привычку в одну из категорий: `emerald`, `amber`, `gray`.
- [ ] Обновить рендер `habit-group`, чтобы сортировать привычки по приоритету цвета с устойчивым порядком внутри каждой группы (например, по названию).
- [ ] Сгенерировать прогресс-бар как flex-контейнер без отступов между сегментами, с равным распределением ширины и классами `is-emerald` / `is-amber` / `is-gray`.
- [ ] Пересчитать агрегат `X/Y`, считая завершёнными только привычки категории `emerald`, и применять цвет текста в зависимости от результата.
- [ ] Добавить стили для контейнера прогресса и сегментов, учитывающие светлую и тёмную темы.

## Тестирование и проверка
- [ ] Дополнить тесты для `habit-group`, проверяющие порядок сегментов, цвета и подсчёт агрегата при разных комбинациях состояний.
- [ ] Покрыть крайние случаи: пустая группа, только серые, только янтарные, смешанные состояния.
- [ ] Выполнить ручную проверку в тестовом хранилище, чтобы подтвердить визуальное соответствие ожиданиям.

## Принятые решения
- Amber используется для любой привычки внутри warning window, даже если `timeLeft` не отображается.
- Дополнительные aria-атрибуты для цветной полосы пока не требуются.
